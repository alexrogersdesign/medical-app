{"version":3,"sources":["constants.ts","types.ts","state/state.tsx","assets/logo33.jpeg","AddPatientModal/FormField.tsx","components/HealthRatingBar.tsx","components/FormDatePicker.tsx","AddPatientModal/AddPatientForm.tsx","AddPatientModal/index.tsx","components/HomeHeader.tsx","PatientListPage/index.tsx","components/EntryDetails.tsx","AddEntryModal/FormField.tsx","AddEntryModal/AddEntryForm.tsx","AddEntryModal/index.tsx","components/PatientHeader.tsx","PatientDetailsPage/index.tsx","App.tsx","index.tsx","state/reducer.ts"],"names":["apiBaseUrl","env","DATABASE_URL","Gender","EntryType","HealthCheckRating","HealthCheckRatingText","initialState","patients","StateContext","createContext","StateProvider","reducer","children","useReducer","state","dispatch","Provider","value","useStateValue","useContext","SelectField","name","label","options","Form","Field","as","className","map","option","TextField","field","placeholder","style","color","HEALTHBAR_TEXTS","HealthRatingBar","rating","showText","disabled","form","props","Rating","icon","maxRating","setFieldValue","onRate","_","FormDatePicker","selectedDate","isValid","Date","date","convertedDate","isNaN","getTime","isValidDate","selected","dateFormat","onChange","toISOString","split","genderOptions","Male","Female","Other","AddPatientForm","onSubmit","onCancel","initialValues","ssn","dateOfBirth","occupation","gender","healthRating","validate","values","requiredError","errors","dirty","component","Grid","Column","floated","width","Button","type","onClick","AddPatientModal","modalOpen","onClose","error","Modal","open","centered","closeIcon","Header","Content","Segment","HomeHeader","textAlign","Icon","circular","PatientListPage","React","useState","setModalOpen","setError","closeModal","undefined","submitNewPatient","a","axios","post","newPatient","data","payload","console","response","history","useHistory","size","Table","striped","selectable","Row","HeaderCell","Body","Object","patient","push","id","handleRowClick","Cell","EntryDetails","entry","diagnosisData","BaseEntry","List","celled","verticalAlign","Item","Label","content","ribbon","description","specialist","log","diagnosisCodes","length","code","definition","find","diagnosis","Description","uuid","Container","fluid","renderHealthCheck","healthCheckRating","discharge","criteria","employerName","sickLeave","startDate","endDate","Error","SelectEntry","SelectRating","Dropdown","clearable","selection","DiagnosisSelection","diagnoses","setFieldTouched","stateOptions","key","text","multiple","search","_event","entryOptions","Hospital","OccupationalHealthcare","HealthCheck","healthCheckRatingOptions","Healthy","LowRisk","HighRisk","CriticalRisk","baseValues","healthCheckValues","hospitalValues","occupationalHealthcareValues","dateString","exec","dateInMS","slice","dateError","addEntryModal","inverted","AddEntryForm","PatientHeader","PatientDetailsPage","useParams","patientDetails","useEffect","getPatientData","submitNewEntry","newEntry","targetId","get","renderEntries","entries","Link","to","primary","AddEntryModal","renderPatient","App","patientListFromApi","fetchPatientList","getDiagnosisData","Image","src","logo","Divider","hidden","path","render","container","document","getElementById","ReactDOM","action","reduce","memo","oldEntries","concat"],"mappings":"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","file":"static/js/main.dceea5d4.chunk.js","sourcesContent":["/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/* eslint-disable @typescript-eslint/no-unsafe-assignment */\nimport env from \"react-dotenv\";\n\nlet apiBaseUrl = \"localhost:3001/api\"; \n\nif (process.env.NODE_ENV === 'production') {\n    apiBaseUrl = env.DATABASE_URL;\n}\napiBaseUrl = env.DATABASE_URL;\nexport { apiBaseUrl }; \n\n// console.log(apiBaseUrl);\n// console.log(process.env.NODE_ENV);","export interface Diagnosis {\n  code: string;\n  name: string;\n  latin?: string;\n}\n\nexport enum Gender {\n  Male = \"male\",\n  Female = \"female\",\n  Other = \"other\"\n}\n\nexport enum EntryType  {\n  Hospital = \"Hospital\",\n  OccupationalHealthcare = \"OccupationalHealthcare\",\n  HealthCheck = \"HealthCheck\"\n}\nexport enum HealthCheckRating {\n  Healthy = 0,\n  LowRisk = 1,\n  HighRisk = 2,\n  CriticalRisk = 3\n}\n// export enum EntryType {\n  //   \"HealthCheck\",\n//   \"Hospital\",\n//   \"OccupationalHealthcare\"\n// }\nexport enum HealthCheckRatingText {\n  \"Healthy\" = 0,\n  \"LowRisk\" = 1,\n  \"HighRisk\" = 2,\n  \"CriticalRisk\" = 3\n}\n\nexport interface Patient {\n  id: string;\n  name: string;\n  occupation: string;\n  gender: Gender;\n  ssn?: string;\n  dateOfBirth?: string;\n  entries?: Entries;\n  healthRating: HealthCheckRating;\n}\n\nexport interface Diagnosis {\n  code: string,\n  name: string,\n  latin?: string\n}\n\nexport type Entries = Entry[] | [] ;\n\n\nexport interface BaseEntry {\n  id: string;\n  description: string;\n  date: string;\n  specialist: string;\n  diagnosisCodes?: Array<Diagnosis['code']>;\n}\nexport interface SickLeave {\n  startDate: string,\n  endDate: string\n}\nexport interface Discharge {\n  date: string,\n  criteria: string\n}\nexport interface HealthCheckEntry extends BaseEntry {\n  type: EntryType.HealthCheck;\n  healthCheckRating: HealthCheckRating;\n}\n\nexport interface HospitalEntry extends BaseEntry {\n  type: EntryType.Hospital,\n  discharge: Discharge,\n}\nexport interface OccupationalHealthcareEntry extends BaseEntry {\n  type: EntryType.OccupationalHealthcare,\n  employerName: string,\n  sickLeave?: SickLeave\n}\n\n\nexport type Entry =\n| HospitalEntry\n| OccupationalHealthcareEntry\n| HealthCheckEntry;\n\n\n\nexport type NewPatient = Omit<Patient, 'id'>;\nexport type NonSensitivePatient = Omit<Patient, 'ssn'>;\nexport type PublicPatient = Omit<Patient, 'ssn' | 'entries' >;\n\nexport type DistributiveOmit<T, K extends keyof T, Y extends keyof T> = T extends unknown\n  ? Omit<T, K | Y>\n  : never;\n\nexport type NewEntry = DistributiveOmit<Entry, 'id', 'date'>;","import React, { createContext, useContext, useReducer } from \"react\";\nimport { Diagnosis, Patient } from \"../types\";\n\n\nimport { Action } from \"./reducer\";\n\nexport type State = {\n  patients: { [id: string]: Patient },\n  patientDetails?: Patient,\n  diagnosisData?: Diagnosis[]\n};\n\nconst initialState: State = {\n  patients: {}\n};\n\nexport const StateContext = createContext<[State, React.Dispatch<Action>]>([\n  initialState,\n  () => initialState\n]);\n\ntype StateProviderProps = {\n  reducer: React.Reducer<State, Action>;\n  children: React.ReactElement;\n};\n\nexport const StateProvider: React.FC<StateProviderProps> = ({\n  reducer,\n  children\n}: StateProviderProps) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <StateContext.Provider value={[state, dispatch]}>\n      {children}\n    </StateContext.Provider>\n  );\n};\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport const useStateValue = () => useContext(StateContext);\n","export default __webpack_public_path__ + \"static/media/logo33.7a9d870c.jpeg\";","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nimport React from \"react\";\nimport { ErrorMessage, Field, FieldProps, FormikProps } from \"formik\";\nimport { Dropdown, DropdownProps, Form } from \"semantic-ui-react\";\nimport { Diagnosis, Gender } from \"../types\";\n\n// structure of a single option\nexport type GenderOption = {\n  value: Gender;\n  label: string;\n};\n\n// props for select field component\ntype SelectFieldProps = {\n  name: string;\n  label: string;\n  options: GenderOption[];\n};\n\nexport const SelectField: React.FC<SelectFieldProps> = ({\n  name,\n  label,\n  options\n}: SelectFieldProps) => (\n  <Form.Field>\n    <label>{label}</label>\n    <Field as=\"select\" name={name} className=\"ui dropdown\">\n      {options.map(option => (\n        <option key={option.value} value={option.value}>\n          {option.label || option.value}\n        </option>\n      ))}\n    </Field>\n  </Form.Field>\n);\n\ninterface TextProps extends FieldProps {\n  label: string;\n  placeholder: string;\n}\n\nexport const TextField: React.FC<TextProps> = ({\n  field,\n  label,\n  placeholder\n}) => (\n  <Form.Field>\n    <label>{label}</label>\n    <Field placeholder={placeholder} {...field} />\n    <div style={{ color:'red' }}>\n      <ErrorMessage name={field.name} />\n    </div>\n  </Form.Field>\n);\n\n/*\n  for exercises 9.24.-\n*/\ninterface NumberProps extends FieldProps {\n  label: string;\n  errorMessage?: string;\n  min: number;\n  max: number;\n}\n\nexport const NumberField: React.FC<NumberProps> = ({ field, label, min, max }) => (\n  <Form.Field>\n    <label>{label}</label>\n    <Field {...field} type='number' min={min} max={max} />\n\n    <div style={{ color:'red' }}>\n      <ErrorMessage name={field.name} />\n    </div>\n  </Form.Field>\n);\n\nexport const DiagnosisSelection = ({\n  diagnoses,\n  setFieldValue,\n  setFieldTouched\n}: {\n  diagnoses: Diagnosis[];\n  setFieldValue: FormikProps<{ diagnosisCodes: string[] }>[\"setFieldValue\"];\n  setFieldTouched: FormikProps<{ diagnosisCodes: string[] }>[\"setFieldTouched\"];\n}) => {\n  const field = \"diagnosisCodes\";\n  const onChange = (\n    _event: React.SyntheticEvent<HTMLElement, Event>,\n    data: DropdownProps\n  ) => {\n    setFieldTouched(field, true);\n    setFieldValue(field, data.value);\n  };\n\n  const stateOptions = diagnoses.map(diagnosis => ({\n    key: diagnosis.code,\n    text: `${diagnosis.name} (${diagnosis.code})`,\n    value: diagnosis.code\n  }));\n\n  return (\n    <Form.Field>\n      <label>Diagnoses</label>\n      <Dropdown\n        fluid\n        multiple\n        search\n        selection\n        options={stateOptions}\n        onChange={onChange}\n      />\n      <ErrorMessage name={field} />\n    </Form.Field>\n  );\n};\n","import React from 'react';\nimport { Form, Rating } from 'semantic-ui-react';\n\ninterface FormValues {\n  name: string,\n  value: number,\n}\n\ninterface IForm {\n  setFieldValue: (name:string, value:number) => void,\n}\n\nexport interface FormikActions<Values> {\n  setFieldValue<Field extends keyof Values>(\n    field: Field,\n    value: Values[Field],\n    shouldValidate?: boolean\n  ): void;\n}\n\ntype BarProps = {\n  rating: number;\n  showText: boolean;\n  label?: string;\n  disabled?: true;\n  field?: FormValues,\n  form?: IForm,\n  children?: unknown\n};\n\n\nconst HEALTHBAR_TEXTS = [\n  'The patient is in great shape',\n  'The patient has a low risk of getting sick',\n  'The patient has a high risk of getting sick',\n  'The patient has a diagnosed condition',\n];\n\nconst HealthRatingBar: React.FC<BarProps> = ({ \n  rating, \n  showText,\n  disabled,\n  label,\n  field,\n  form,\n  children: _,\n  ...props\n }: BarProps) => {\n  if (disabled) {\n  return <Rating icon=\"heart\" disabled rating={rating} maxRating={4} />;\n  }  \n  else if (field && form) {\n    const { name, value } = field;\n    const { setFieldValue } = form; \n    return (\n      <Form.Field className=\"health-bar\">\n        <label>{label}</label>\n        <Rating \n        rating={value}\n        icon=\"heart\" \n        maxRating={4}\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        onRate={(_: any, { rating }: any) => setFieldValue(name, rating)}\n        {...props}\n        />\n        {showText ? <p>{HEALTHBAR_TEXTS[rating]}</p> : null}\n      </Form.Field>\n    );\n  }\n  return <></>;\n};\n\nexport default HealthRatingBar;\n","import React from 'react';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { Form } from 'semantic-ui-react';\n\ninterface FormValues {\n    name: string,\n    value: string,\n  }\n  \n  interface IForm {\n    setFieldValue: (name:string, value:string) => void,\n    isValid: boolean,\n  }\n  \n  type IDateProps = {\n    label: string,\n    field: FormValues,\n    form: IForm,\n    children: unknown\n  };\n\n\nconst FormDatePicker: React.FC<IDateProps> = ({\n    label,\n    field,\n    form,\n    children: _,\n    ...props\n}) => {\n\n    const isValidDate = (date:string): boolean => {\n        const convertedDate = new Date(date);\n        return convertedDate instanceof Date && !isNaN(convertedDate.getTime());\n    };\n\n    if (field && form){\n        const { name, value } = field;\n        const { setFieldValue, isValid } = form; \n        let selectedDate = new Date(value);\n        if(!isValidDate(value)){ selectedDate = new Date(); }\n        \n    return (\n        <>\n            <Form.Field > \n                <label>{label}</label>\n                <div>\n                <DatePicker \n                selected={selectedDate}\n                dateFormat=\"MMMM d, yyyy\"\n                className=\"form-control\"\n                onChange={(date:Date) => setFieldValue(name, date.toISOString().split('T')[0])}\n                {...props}\n                />\n                </div>\n            </Form.Field>\n        </>\n    );}\n    else return <></>;\n};\nexport default FormDatePicker;\n","import React from \"react\";\nimport { Grid, Button } from \"semantic-ui-react\";\nimport { Field, Formik, Form } from \"formik\";\n\nimport { TextField, SelectField, GenderOption } from \"./FormField\";\nimport { Gender, Patient } from \"../types\";\nimport HealthRatingBar from \"../components/HealthRatingBar\";\nimport FormDatePicker from \"../components/FormDatePicker\";\n\n\n/*\n * use type Patient, but omit id and entries,\n * because those are irrelevant for new patient object.\n */\nexport type PatientFormValues = Omit<Patient, \"id\" | \"entries\">;\n\ninterface Props {\n  onSubmit: (values: PatientFormValues) => void;\n  onCancel: () => void;\n}\n\nconst genderOptions: GenderOption[] = [\n  { value: Gender.Male, label: \"Male\" },\n  { value: Gender.Female, label: \"Female\" },\n  { value: Gender.Other, label: \"Other\" }\n];\n\nexport const AddPatientForm: React.FC<Props> = ({ onSubmit, onCancel }) => {\n  return (\n    <Formik\n      initialValues={{\n        name: \"\",\n        ssn: \"\",\n        dateOfBirth: new Date().toISOString().split('T')[0],\n        occupation: \"\",\n        gender: Gender.Other,\n        healthRating: 3,\n      }}\n      onSubmit={onSubmit}\n      validate={values => {\n        const requiredError = \"Field is required\";\n        const errors: { [field: string]: string } = {};\n        if (!values.name) {\n          errors.name = requiredError;\n        }\n        if (!values.ssn) {\n          errors.ssn = requiredError;\n        }\n        if (!values.dateOfBirth) {\n          errors.dateOfBirth = requiredError;\n        }\n        if (!values.occupation) {\n          errors.occupation = requiredError;\n        }\n        if (!values.healthRating) {\n          errors.healthRating = requiredError;\n        }\n        return errors;\n      }}\n    >\n      {({ isValid, dirty }) => {\n        return (\n          <Form className=\"form ui\">\n            <Field\n              label=\"Name\"\n              placeholder=\"Name\"\n              name=\"name\"\n              component={TextField}\n            />\n            <Field\n              label=\"Social Security Number\"\n              placeholder=\"SSN\"\n              name=\"ssn\"\n              component={TextField}\n            />\n            <Field\n              label=\"Date of Birth\"\n              name=\"DateOfBirth\"\n              component={FormDatePicker}\n            />\n            <Field\n              label=\"Occupation\"\n              placeholder=\"Occupation\"\n              name=\"occupation\"\n              component={TextField}\n            />\n            <SelectField\n              label=\"Gender\"\n              name=\"gender\"\n              options={genderOptions}\n            />\n            <Field\n              maxRating={4}\n              label=\"Health Rating\"\n              name=\"healthRating\"\n              showText={true}\n              component={HealthRatingBar}\n            />\n            <Grid>\n              <Grid.Column floated=\"left\" width={5}>\n                <Button type=\"button\" onClick={onCancel} color=\"red\">\n                  Cancel\n                </Button>\n              </Grid.Column>\n              <Grid.Column floated=\"right\" width={5}>\n                <Button\n                  type=\"submit\"\n                  floated=\"right\"\n                  color=\"green\"\n                  disabled={!dirty || !isValid}\n                >\n                  Add\n                </Button>\n              </Grid.Column>\n            </Grid>\n          </Form>\n        );\n      }}\n    </Formik>\n  );\n};\n\nexport default AddPatientForm;\n","import React from 'react';\nimport { Modal, Segment } from 'semantic-ui-react';\nimport AddPatientForm, { PatientFormValues } from './AddPatientForm';\n\ninterface Props {\n  modalOpen: boolean;\n  onClose: () => void;\n  onSubmit: (values: PatientFormValues) => void;\n  error?: string;\n}\n\nconst AddPatientModal: React.FC<Props> = ({ modalOpen, onClose, onSubmit, error }: Props) => (\n  <Modal open={modalOpen} onClose={onClose} centered={false} closeIcon>\n    <Modal.Header>Add a new patient</Modal.Header>\n    <Modal.Content>\n      {error && <Segment color=\"red\">{`Error: ${error}`}</Segment>}\n      <AddPatientForm onSubmit={onSubmit} onCancel={onClose} />\n    </Modal.Content>\n  </Modal>\n);\n\nexport default AddPatientModal;\n","import React from 'react';\nimport { Header, Icon } from 'semantic-ui-react';\n\nconst HomeHeader: React.FC = () => (\n  <div>\n    <Header as='h2' icon textAlign='center'>\n      <Icon name='user md' circular />\n      <Header.Content>Patient Health Portal</Header.Content>\n    </Header>\n  </div>\n);\n\nexport default HomeHeader;\n","/* eslint-disable @typescript-eslint/no-unsafe-member-access */\nimport React from \"react\";\nimport axios from \"axios\";\nimport { Table, Button, Segment, Header, Icon } from \"semantic-ui-react\";\nimport { useHistory } from\"react-router-dom\";\n\n\nimport { PatientFormValues } from \"../AddPatientModal/AddPatientForm\";\nimport AddPatientModal from \"../AddPatientModal\";\nimport { Patient } from \"../types\";\nimport { apiBaseUrl } from \"../constants\";\nimport HealthRatingBar from \"../components/HealthRatingBar\";\nimport HomeHeader from \"../components/HomeHeader\";\nimport { useStateValue } from \"../state\";\n\nconst PatientListPage: React.FC = () => {\n  const [{ patients }, dispatch] = useStateValue();\n\n  const [modalOpen, setModalOpen] = React.useState<boolean>(false);\n  const [error, setError] = React.useState<string | undefined>();\n  const openModal = (): void => setModalOpen(true);\n\n  const closeModal = (): void => {\n    setModalOpen(false);\n    setError(undefined);\n  };\n\n  const submitNewPatient = async (values: PatientFormValues) => {\n    try {\n      const { data: newPatient } = await axios.post<Patient>(\n        // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n        `${apiBaseUrl}/patients`,\n        values\n      );\n      dispatch({ type: \"ADD_PATIENT\", payload: newPatient });\n      closeModal();\n    } catch (e) {\n      console.error(e.response.data);\n      setError(e.response.data.error);\n    }\n  };\n\n  // adding support for clickable rows \n  const history = useHistory();\n  const handleRowClick = (patient:Patient) => {\n    history.push('/patient/'+patient.id);\n  };\n\n  return (\n    <div className=\"App\">\n   \n      <HomeHeader/>\n      <Segment placeholder>\n      <Segment textAlign=\"center\">\n        <Header as=\"h3\">\n          <Icon size=\"tiny\" name=\"users\"/>\n          <Header.Content className=\"patient-list-header\">\n            Current Patients\n          </Header.Content>\n        </Header>\n      </Segment>\n        <Table striped selectable >\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell className=\"patient-header\">Name</Table.HeaderCell>\n              <Table.HeaderCell className=\"patient-header\">Gender</Table.HeaderCell>\n              <Table.HeaderCell className=\"patient-header\">Occupation</Table.HeaderCell>\n              <Table.HeaderCell className=\"patient-header\">Health Rating</Table.HeaderCell>\n            </Table.Row>\n          </Table.Header>\n          <Table.Body className=\"patient-body\">\n            {Object.values(patients).map((patient: Patient) => (\n              <Table.Row key={patient.id} onClick={()=> handleRowClick(patient)}>\n                <Table.Cell>{patient.name}</Table.Cell>\n                <Table.Cell>{patient.gender}</Table.Cell>\n                <Table.Cell>{patient.occupation}</Table.Cell>\n                <Table.Cell>\n                  <HealthRatingBar disabled={true} showText={false} rating={patient.healthRating} />\n                </Table.Cell>\n              </Table.Row>\n            ))}\n          </Table.Body>\n        </Table>\n        <AddPatientModal\n          modalOpen={modalOpen}\n          onSubmit={submitNewPatient}\n          error={error}\n          onClose={closeModal}\n        />\n        <Button onClick={() => openModal()}>Add New Patient</Button>\n      </Segment>\n    </div>\n  );\n};\n\nexport default PatientListPage;\n","import React from 'react';\nimport { Entry, Diagnosis, HealthCheckRatingText } from '../types';\nimport { List, Icon, Container, Label, Header} from \"semantic-ui-react\";\nimport { v4 as uuid } from 'uuid';\nimport { useStateValue } from \"../state\";\n\n \nconst EntryDetails: React.FC<{ entry:Entry }> = ({ entry }) => {\n    const [{ diagnosisData }, ] = useStateValue();\n    const renderHealthCheck = (rating:number) => {\n        switch (rating) {\n            case 0: \n                return <Label><Icon name=\"heart\" color=\"green\"/> {HealthCheckRatingText[0]} </Label>;\n            case 1: \n                return <Label><Icon name=\"heart\" color=\"yellow\"/> {HealthCheckRatingText[1]} </Label>;\n            case 2: \n                return <Label><Icon name=\"heart\" color=\"orange\"/> {HealthCheckRatingText[2]} </Label>;\n            case 3: \n                return <Label><Icon name=\"heart\" color=\"red\"/> {HealthCheckRatingText[3]} </Label>;\n        }\n    };\n\n    const BaseEntry: React.FC = () => {\n        return (\n            <div>\n                <List celled verticalAlign='middle'>               \n                    <List.Item >\n                        <List.Header><Label icon=\"info\" color=\"teal\" content=\"Description\" ribbon/></List.Header>{entry.description}\n                    </List.Item>\n                    <List.Item >\n                        <List.Header><Label icon=\"calendar alternate\" color=\"teal\" content=\"Date\" ribbon/></List.Header>{entry.date}\n                    </List.Item>\n                    <List.Item >\n                        <List.Header><Label icon=\"user md\" color=\"teal\" content=\"Specialist\" ribbon/></List.Header>{entry.specialist}\n                    </List.Item>\n                    {console.log(entry.diagnosisCodes)}\n                    { entry.diagnosisCodes && entry.diagnosisCodes.length > 0 &&\n                        <List.Item >\n                            <List.Header><Label icon=\"code\" color=\"teal\" content=\"Diagnosis Codes\" ribbon/></List.Header>\n                            <List celled verticalAlign=\"middle\">\n                                {\n                                entry.diagnosisCodes?.map(code => {\n                                    if (diagnosisData){\n                                        const definition = Object.values(diagnosisData).find((diagnosis:Diagnosis) => diagnosis.code === code );\n                                        if (definition) {\n                                            return (\n                                                <List.Item key={uuid()}>\n                                                    <List.Header className=\"diagnosis-code\"><List.Icon name=\"plus\" />{code}</List.Header>\n                                                    <List.Description>{definition.name}</List.Description>\n                                                </List.Item>);\n                                        }                                     \n                                    }\n                                    return <List.Item key={uuid()}>{code}</List.Item>;\n                                })\n                                }\n                            </List>\n                        </List.Item>  }\n                </List>              \n            </div>\n        );\n    }; \n\n    switch(entry.type){\n        case \"HealthCheck\":\n            return(\n                <Container fluid key={uuid()}>\n                    <Header size=\"medium\" icon=\"first aid\" color=\"black\" content=\"Health Check\" />  \n                    <BaseEntry/>\n                    <List>\n                    <List.Item >\n                        <List.Header><Label icon=\"heart outline\" color=\"teal\" content=\"Health Check Rating\" ribbon/></List.Header>{\n                        renderHealthCheck(entry.healthCheckRating)\n                        }\n                    </List.Item>\n                    </List>\n                    <br/>\n                </Container>\n            );\n        case \"Hospital\":\n            return(\n                <Container fluid key={uuid()}>\n                    <Header size=\"medium\" icon=\"hospital\" color=\"black\" content=\"Hospital Visit\" />  \n                    {/* <Icon name=\"hospital\" size='large' /> */}\n                    <BaseEntry/>\n                    <List celled verticalAlign=\"middle\">\n                        <List.Item >\n                            <List.Header><Label icon=\"calendar check\" color=\"teal\" content=\"Discharge Date\" ribbon/></List.Header>{entry.discharge.date}\n                        </List.Item>\n                        <List.Item>\n                          <List.Header><Label icon=\"stethoscope\" color=\"teal\" content=\"Discharge Criteria\" ribbon/></List.Header>{entry.discharge.criteria}\n                        </List.Item>\n                    </List>\n                    <br/>\n                </Container>\n            );\n        case \"OccupationalHealthcare\":\n            return(\n                <Container fluid key={uuid()}>\n                     <Header size=\"medium\" icon=\"clipboard check\" color=\"black\" content=\"Occupational Healthcare\" />  \n                    <BaseEntry/>\n                    <List celled verticalAlign=\"middle\">\n                        <List.Item>\n                            <List.Header><Label icon=\"briefcase\" color=\"teal\" content=\"Employer\" ribbon/></List.Header>{entry.employerName}\n                        </List.Item>\n                        {entry.sickLeave && \n                        <>\n                            <List.Item>\n                                <List.Header><Label icon=\"calendar plus outline\" color=\"teal\" content=\"Sick Leave Start Date\" ribbon/></List.Header>{entry.sickLeave.startDate}\n                            </List.Item>\n                            <List.Item>\n                                <List.Header><Label icon=\"calendar times outline\" color=\"teal\" content=\"Sick Leave End Date\" ribbon/></List.Header>{entry.sickLeave.endDate}\n                            </List.Item>\n                        </>\n                        }\n                    </List>    \n                    <br/>\n                </Container>\n            );\n            default:\n                // return assertNever(entry);\n                throw new Error('invalid entry type');\n              }\n};\n\nexport default EntryDetails;","import React from \"react\";\nimport { ErrorMessage, Field, FieldProps, FormikProps } from \"formik\";\nimport { Dropdown, DropdownProps, Form } from \"semantic-ui-react\";\nimport { Diagnosis, HealthCheckRating, EntryType } from \"../types\";\n// import \"react-datepicker/dist/react-datepicker.css\";\n// import { useField, useFormikContext } from \"formik\";\n// import DatePicker from \"react-datepicker\";\n\n\n\n// structure of a single option\nexport type EntryOption = {\n  value: EntryType;\n  label: string;\n};\n\nexport type HealthCheckRatingOption = {\n  value: HealthCheckRating;\n  text: string;\n};\n\n// props for select field component\ntype SelectEntryProps = {\n  name: string;\n  label: string;\n  options: EntryOption[];\n};\n\nexport const SelectEntry: React.FC<SelectEntryProps> = ({\n  name,\n  label,\n  options\n}: SelectEntryProps) => (\n  <Form.Field>\n    <label>{label}</label>\n    <Field as=\"select\" name={name} className=\"ui dropdown\">\n      {options.map(option => (\n        <option key={option.value} value={option.value}>\n          {option.label || option.value}\n        </option>\n      ))}\n    </Field>\n  </Form.Field>\n);\n\ntype SelectRatingProps = {\n    name: string;\n    label: string;\n    options: HealthCheckRatingOption[];\n  };\n\nexport const SelectRating: React.FC<SelectRatingProps> = ({\n  name,\n  label,\n  options\n}: SelectRatingProps) => (\n  <Form.Field>\n    <label>{label}</label>\n    <Dropdown\n    clearable options={options} selection\n    name={name}\n    className=\"ui dropdown\"\n\n    />\n    {/* <Field as=\"select\" name={name} className=\"ui dropdown\">\n      {options.map(option => (\n        <option key={option.value} value={option.value}>\n          {option.text || option.value}\n        </option>\n      ))}\n    </Field> */}\n  </Form.Field>\n);\n\n// export const DatePickerField = ({ ...props }) => {\n//   const { setFieldValue } = useFormikContext();\n//   const [field] = useField(props);\n//   return (\n//     <DatePicker\n//       {...field}\n//       {...props}\n//       selected={(field.value && new Date(field.value)) || null}\n//       onChange={val => {\n//         setFieldValue(field.name, val);\n//       }}\n//     />\n//   );\n// };\n\n\ninterface TextProps extends FieldProps {\n  label: string;\n  placeholder: string;\n}\n\nexport const TextField: React.FC<TextProps> = ({\n  field,\n  label,\n  placeholder\n}) => (\n  <Form.Field>\n    <label>{label}</label>\n    <Field placeholder={placeholder} {...field} />\n    <div style={{ color:'red' }}>\n      <ErrorMessage name={field.name} />\n    </div>\n  </Form.Field>\n);\n\n\ninterface NumberProps extends FieldProps {\n  label: string;\n  errorMessage?: string;\n  min: number;\n  max: number;\n}\n\nexport const NumberField: React.FC<NumberProps> = ({ field, label, min, max }) => (\n  <Form.Field>\n    <label>{label}</label>\n    <Field {...field} type='number' min={min} max={max} />\n\n    <div style={{ color:'red' }}>\n      <ErrorMessage name={field.name} />\n    </div>\n  </Form.Field>\n);\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport const DiagnosisSelection = ({\n  diagnoses,\n  setFieldValue,\n  setFieldTouched\n}: {\n  diagnoses: Diagnosis[];\n  setFieldValue: FormikProps<{ diagnosisCodes: string[] }>[\"setFieldValue\"];\n  setFieldTouched: FormikProps<{ diagnosisCodes: string[] }>[\"setFieldTouched\"];\n}) => {\n  const field = \"diagnosisCodes\";\n  const onChange = (\n    _event: React.SyntheticEvent<HTMLElement, Event>,\n    data: DropdownProps\n  ) => {\n    setFieldTouched(field, true);\n    setFieldValue(field, data.value);\n  };\n\n  const stateOptions = diagnoses.map(diagnosis => ({\n    key: diagnosis.code,\n    text: `${diagnosis.name} (${diagnosis.code})`,\n    value: diagnosis.code\n  }));\n\n  return (\n    <Form.Field>\n      <label>Diagnoses</label>\n      <Dropdown\n        fluid\n        multiple\n        search\n        selection\n        options={stateOptions}\n        onChange={onChange}\n      />\n      <ErrorMessage name={field} />\n    </Form.Field>\n  );\n};\n","/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/* eslint-disable @typescript-eslint/no-unsafe-assignment */\n/* eslint-disable @typescript-eslint/unbound-method */\nimport React from \"react\";\nimport { Grid, Button } from \"semantic-ui-react\";\nimport { Field, Formik, Form, FormikProps, ArrayHelpers  } from \"formik\";\n// import { v4 as uuidv4 } from 'uuid';\nimport { TextField, SelectEntry, SelectRating, EntryOption, HealthCheckRatingOption, DiagnosisSelection } from \"./FormField\";\nimport { EntryType, HealthCheckRating, NewEntry } from \"../types\";\nimport { useStateValue } from \"../state\";\nimport FormDatePicker from \"../components/FormDatePicker\";\n\n\nexport type EntryFormValues = NewEntry;\n\n\ninterface Props {\n  onSubmit: (values: EntryFormValues) => void;\n  onCancel: () => void;\n}\n\n\nconst entryOptions: EntryOption[] = [\n  { value: EntryType.Hospital, label: \"Hospital\" },\n  { value: EntryType.OccupationalHealthcare, label: \"OccupationalHealthcare\" },\n  { value: EntryType.HealthCheck, label: \"HealthCheck\" }\n];\nconst healthCheckRatingOptions: HealthCheckRatingOption[] = [\n  { value: HealthCheckRating.Healthy, text: \"Healthy\" },\n  { value: HealthCheckRating.LowRisk, text: \"Low Risk\" },\n  { value: HealthCheckRating.HighRisk, text: \"High Risk\" },\n  { value: HealthCheckRating.CriticalRisk, text: \"Critical Risk\" },\n];\n\nexport type FieldArrayRenderProps = ArrayHelpers & {\n  form: FormikProps<EntryFormValues>;\n  name: string;\n};\n\n\nexport const AddPatientForm: React.FC<Props> = ({ onSubmit, onCancel}) => {\n  const [{ diagnosisData: diagnoses }] = useStateValue();\n  if (!diagnoses) throw new Error('diagnoses data does not exist');\n\n\n  const baseValues = {\n    type: EntryType.HealthCheck,\n    specialist: \"\",\n    diagnosisCodes: [],\n    description: \"\",\n  };\n  const healthCheckValues = {\n    healthCheckRating: HealthCheckRating.Healthy,\n  };\n  const hospitalValues = {\n    discharge: {\n      date: new Date().toISOString().split('T')[0],\n      criteria: ''\n    },\n  };\n  const occupationalHealthcareValues = {\n    employerName: '',\n    sickLeave: {\n      startDate: new Date().toISOString().split('T')[0],\n      endDate: new Date().toISOString().split('T')[0]\n    }\n  };\n  interface errorValues {\n    description?: string,\n    specialist?: string,\n    employerName?: string,\n    discharge?: {\n        date?: string,\n        criteria?: string\n      },\n    sickLeave?: {\n      startDate?: string,\n      endDate?: string\n    }\n  }\n  function isValidDate(dateString:string): boolean {\n    const regEx = /^\\d{4}-\\d{2}-\\d{2}$/;\n    // if(!dateString.exec(regEx)) return false;  // Invalid format\n    if(!regEx.exec(dateString)) return false;  // Invalid format\n    const date = new Date(dateString);\n    const dateInMS = date.getTime();\n    if(!dateInMS && dateInMS !== 0) return false; // NaN value, Invalid date\n    return date.toISOString().slice(0,10) === dateString;\n  }\n \n  return (\n    <Formik\n      initialValues={{...baseValues, ...healthCheckValues, ...hospitalValues, ...occupationalHealthcareValues   }}\n      onSubmit={onSubmit}\n      validate={values => {\n        const requiredError = \"Field is required\";\n        const dateError = \"Date format must match YYYY-MM-DD \";\n        const errors: errorValues = {};\n      \n        if (!values.specialist) {\n          errors.specialist = requiredError;\n        }\n        if (!values.description) {\n          errors.description = requiredError;\n        }\n        // hospital \n        if (values.type === EntryType.Hospital && !values.discharge.criteria) {\n         if (!errors.discharge){ errors.discharge = {};}\n          errors.discharge.criteria = requiredError;\n        }\n        if (values.type === EntryType.Hospital && !values.discharge.date) {\n         if (!errors.discharge){ errors.discharge = {};}\n          errors.discharge.date = requiredError;\n        }\n        if (values.type === EntryType.Hospital && values.discharge.date && !isValidDate(values.discharge.date)) {\n         if (!errors.discharge){ errors.discharge = {};}\n          errors.discharge.date = dateError;\n        }\n        // occuaption healthcare\n        if (values.type === EntryType.OccupationalHealthcare &&!values.employerName) {         \n          errors.employerName = requiredError;\n        }\n        if (values.type === EntryType.OccupationalHealthcare && !values.sickLeave.startDate) {\n         if (!errors.sickLeave){ errors.sickLeave = {};}\n          errors.sickLeave.startDate = requiredError;\n        }\n        if (values.type === EntryType.OccupationalHealthcare && values.sickLeave.startDate && !isValidDate(values.sickLeave.startDate)) {\n         if (!errors.sickLeave){ errors.sickLeave = {};}\n          errors.sickLeave.startDate = dateError;\n        }\n        if (values.type === EntryType.OccupationalHealthcare && !values.sickLeave.endDate) {\n         if (!errors.sickLeave){ errors.sickLeave = {};}\n          errors.sickLeave.endDate = requiredError;\n        }\n        if (values.type === EntryType.OccupationalHealthcare && values.sickLeave.endDate && !isValidDate(values.sickLeave.endDate)) {\n          if (!errors.sickLeave){ errors.sickLeave = {};}\n          errors.sickLeave.endDate = dateError;\n        }\n        return errors;\n      }}\n    >\n      {(props) => {\n        const { isValid, dirty, setFieldValue, setFieldTouched, values} = props;\n        const { type } = values;\n        return (\n          <Form className=\"form ui\">\n            <SelectEntry\n              label=\"Entry Type\"\n              name=\"type\"\n              options={entryOptions}\n            />\n            <Field\n              label=\"Specialist\"\n              placeholder=\"Specialist\"\n              name=\"specialist\"\n              component={TextField}\n            />\n             <DiagnosisSelection\n              setFieldValue={setFieldValue}\n              setFieldTouched={setFieldTouched}\n              diagnoses={Object.values(diagnoses)}\n            />   \n            <Field\n              label=\"Description\"\n              placeholder=\"Description\"\n              name=\"description\"\n              component={TextField}\n            />\n            {\n            type === EntryType.HealthCheck \n            && \n            <SelectRating\n              label=\"Health Check Rating\"\n              name=\"healthCheckRating\"\n              options={healthCheckRatingOptions}\n            />\n            }\n            {type === EntryType.Hospital \n            && \n            <>\n              <Field\n              label=\"Discharge Criteria\"\n              placeholder=\"Discharge Criteria\"\n              name=\"discharge.criteria\"\n              component={TextField}\n              />\n              <Field\n              label=\"Discharge Date\"\n              placeholder=\"YYYY-MM-DD\"\n              name=\"discharge.date\"\n              component={FormDatePicker}\n              />\n            </>\n            }\n            {\n              type === EntryType.OccupationalHealthcare\n              &&\n              <>\n                <Field\n                label=\"Employer Name\"\n                placeholder=\"Employer\"\n                name=\"employerName\"\n                component={TextField}\n                />       \n                <Field\n                  label=\"Sick Leave Start Date\"\n                  name=\"sickLeave.startDate\"\n                  component={FormDatePicker}\n                />\n                <Field\n                  label=\"Sick Leave End Date\"\n                  name=\"sickLeave.endDate\"\n                  component={FormDatePicker}\n                />\n              </>\n            }\n            <Grid>\n              <Grid.Column floated=\"left\" width={5}>\n                <Button type=\"button\" onClick={onCancel} color=\"red\">\n                  Cancel\n                </Button>\n              </Grid.Column>\n              <Grid.Column floated=\"right\" width={5}>\n                <Button\n                  type=\"submit\"\n                  floated=\"right\"\n                  color=\"green\"\n                  disabled={!dirty || !isValid}\n                >\n                  Add\n                </Button>\n              </Grid.Column>\n            </Grid>\n          </Form>\n        );\n      }}\n    </Formik>\n  );\n};\n\nexport default AddPatientForm;\n","import React from 'react';\nimport { Modal, Segment } from 'semantic-ui-react';\nimport AddEntryForm, { EntryFormValues } from './AddEntryForm';\n\ninterface Props {\n  modalOpen: boolean;\n  onClose: () => void;\n  onSubmit: (values: EntryFormValues) => void;\n  error?: string;\n}\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nconst addEntryModal = ({ modalOpen, onClose, onSubmit, error }: Props) => (\n  <Modal open={modalOpen} onClose={onClose} centered={false} closeIcon>\n    <Modal.Header>Add a new entry</Modal.Header>\n    <Modal.Content>\n      {error && <Segment inverted color=\"red\">{`Error: ${error}`}</Segment>}\n      <AddEntryForm onSubmit={onSubmit} onCancel={onClose} />\n    </Modal.Content>\n  </Modal>\n);\n\nexport default addEntryModal;","import React from 'react';\nimport { Header, Icon } from 'semantic-ui-react';\nimport { Patient } from '../types';\n\ninterface IPatientHeader {\n    patient: Patient\n}\n\nconst PatientHeader: React.FC <IPatientHeader> = ({patient}) => (\n  <div>\n    <Header as='h2' icon textAlign='center'>\n      <Icon name='user' circular size=\"mini\"/>\n      <Header.Content>{patient.name}</Header.Content>\n    </Header>\n  </div>\n);\n\nexport default PatientHeader;\n","/* eslint-disable @typescript-eslint/no-unsafe-member-access */\nimport React, { useEffect } from 'react';\nimport axios from \"axios\";\nimport { Entry, Patient } from '../types';\nimport { v4 as uuid } from 'uuid';\nimport { Link } from\"react-router-dom\";\n\n// import { Patient } from \"../types\";\nimport { apiBaseUrl } from \"../constants\";\nimport { Container, List, Button, Label, Header } from \"semantic-ui-react\";\nimport { useParams } from 'react-router-dom';\nimport { useStateValue } from \"../state\";\nimport EntryDetails from '../components/EntryDetails';\nimport AddEntryModal from '../AddEntryModal';\nimport { EntryFormValues } from '../AddEntryModal/AddEntryForm';\nimport PatientHeader from '../components/PatientHeader';\n \n\ninterface Params {\n    id: string;\n}\n\nconst PatientDetailsPage: React.FC = () => {\n    const {id} = useParams<Params>();\n    // const [patient, setPatient] = useState<Patient | undefined>();\n    const [{ patientDetails: patient }, dispatch] = useStateValue();\n    const [modalOpen, setModalOpen] = React.useState<boolean>(false);\n    const [error, setError] = React.useState<string | undefined>();\n\n    useEffect(() => {\n        void getPatientData();\n    }, [ dispatch, id]);\n\n    const openModal = (): void => setModalOpen(true);\n    const closeModal = (): void => {\n        setModalOpen(false);\n        setError(undefined);\n      };\n    const submitNewEntry = async (values: EntryFormValues) => {\n    try {\n            const { data: newEntry } = await axios.post<Entry>(\n            // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n            `${apiBaseUrl}/patients/${id}/entries`,\n            values\n        );\n            dispatch({ \n             type: \"ADD_ENTRY\",\n             payload: newEntry, \n             targetId: id \n            });\n            closeModal();\n        } catch (e) {\n            // tslint:disable-next-line\n            console.error(e.response.data);\n            // tslint:disable-next-line\n            setError(e.response.data.error);\n        }\n    };\n    const getPatientData = async (): Promise<void> => {\n        try {\n           const { data } = await axios.get<Patient>(\n            // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n            `${apiBaseUrl}/patients/${id}`     \n          );\n           if (data) {\n                dispatch({ type: \"SET_PATIENT_DETAILS\", payload: data });\n           } else {return undefined;}          \n        } catch (e) {\n          console.error(e);\n        }\n      };\n    const renderEntries = () => {\n        if (patient && patient.entries ) {\n            const entries: Entry[] = patient.entries;\n            return  Object.values(entries).map((entry: Entry) => {\n                return <EntryDetails key={uuid()} entry={entry} />;\n            });\n        }\n    };\n\n    const renderPatient = ( ) => {\n        if (patient) {\n        return (\n            \n            <Container className=\"Patients\">\n                <PatientHeader patient={patient}/>\n                <Button as={Link} to=\"/\" primary>\n                    Return\n                </Button>\n                <List celled verticalAlign='middle'>\n                    <List.Item>\n                        <List.Header><Label icon=\"id badge outline\" color=\"olive\" content=\"Patient ID\" ribbon/></List.Header>{patient.id}                   \n                        </List.Item>\n                    <List.Item>\n                        <List.Header><Label icon=\"hashtag\" color=\"olive\" content=\"SSN\" ribbon/></List.Header>{patient.ssn}                   \n                        </List.Item>\n                    <List.Item>\n                        <List.Header><Label icon=\"warehouse\" color=\"olive\" content=\"Occupation\" ribbon/></List.Header>{patient.occupation}                   \n                        </List.Item>\n                    <List.Item>\n                        <List.Header><Label icon=\"venus mars\" color=\"olive\" content=\"Gender\" ribbon/></List.Header>{patient.gender}                   \n                        </List.Item>\n                    <List.Item>\n                        <List.Header><Label icon=\"birthday cake\" color=\"olive\" content=\"Date of Birth\" ribbon/></List.Header>{patient.dateOfBirth}                   \n                        </List.Item>\n                </List>           \n                <Container className=\"Entries_Divider\" >\n                    <Header  textAlign='center' floated=\"right\" size=\"large\"  color=\"black\" content=\"Entries\" />                    \n                </Container>\n                <Container>\n                    {patient.entries? renderEntries() : <p>No Entries</p>}    \n                </Container>\n                <AddEntryModal\n                    modalOpen={modalOpen}\n                    onSubmit={submitNewEntry}\n                    error={error}\n                    onClose={closeModal}\n                />\n                <Button onClick={() => openModal()}>Add New Entry</Button>                \n          </Container>\n        );\n      }\n    };\n    return (\n        <div>\n            {patient? renderPatient() : <p>Loading</p>}            \n            {/* { renderPatient() } */}\n        </div>\n    );\n};\nexport default PatientDetailsPage;","/* eslint-disable @typescript-eslint/no-floating-promises */\nimport React from \"react\";\nimport axios from \"axios\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { Divider, Container, Menu, Image, Header } from \"semantic-ui-react\";\n\nimport { apiBaseUrl } from \"./constants\";\nimport { useStateValue } from \"./state\";\nimport { Patient, Diagnosis } from \"./types\";\nimport logo from \"./assets/logo33.jpeg\";\n\nimport PatientListPage from \"./PatientListPage\";\nimport PatientDetailsPage from './PatientDetailsPage';\n\nimport './styles/App.css';\n\nconst App: React.FC = () => {\n  const [, dispatch] = useStateValue();\n  React.useEffect(() => {\n    // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n    axios.get<void>(`${apiBaseUrl}/ping`);\n\n    const fetchPatientList = async () => {\n      try {\n        const { data: patientListFromApi } = await axios.get<Patient[]>(\n          // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n          `${apiBaseUrl}/patients`\n        );\n        dispatch({ type: \"SET_PATIENT_LIST\", payload: patientListFromApi });\n      } catch (e) {\n        console.error(e);\n      }\n    };\n    fetchPatientList();\n  }, [dispatch]);\n  \n  React.useEffect(() => {\n    const getDiagnosisData = async (): Promise<void> => {\n      try {\n         const { data } = await axios.get<Diagnosis[]>(\n          // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n          `${apiBaseUrl}/diagnosis`     \n        );\n         if (data) {\n              dispatch({ type: \"SET_DIAGNOSIS_DATA\", payload: data });\n         } else {return undefined;}\n      } catch (e) {\n        console.error(e);\n      }\n    };\n    void getDiagnosisData();\n  }, [ ]);\n\n  \n\n  return (\n    <div className=\"App\">\n      <Container className=\"Menu\">\n        <Image src={logo}\n        className=\"Image\"\n        size=\"medium\"\n        />\n      </Container>\n      <Router>\n        <Container>\n          <Divider hidden />\n          <Switch>\n            <Route path=\"/patient/:id\" render={() => <PatientDetailsPage />} />\n            <Route path=\"/\" render={() => <PatientListPage />} />\n          </Switch>\n        </Container>\n      </Router>\n    </div>\n  );\n};\n\nexport default App;\n","/* eslint-disable @typescript-eslint/no-unsafe-call */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'semantic-ui-css/semantic.min.css';\nimport App from './App';\nimport { reducer, StateProvider } from \"./state\";\n\n\nconst container = document.getElementById(\"root\");\n\nReactDOM.render(\n  <StateProvider reducer={reducer}>\n    <App />\n  </StateProvider>,\n  container\n);\n","import { State } from \"./state\";\nimport { Diagnosis, Entry, Patient } from \"../types\";\n\nexport type Action =\n  | {\n      type: \"SET_PATIENT_LIST\";\n      payload: Patient[];\n    }\n  | {\n      type: \"ADD_PATIENT\";\n      payload: Patient;\n    }\n  | {\n      type: \"SET_PATIENT_DETAILS\";\n      payload: Patient;\n    }\n  | {\n      type: \"SET_DIAGNOSIS_DATA\";\n      payload: Diagnosis[];\n    }  \n  | {\n      type: \"ADD_ENTRY\";\n      targetId: string\n      payload: Entry;\n    };\n// const checkEntries = (entries: unknown) :entries is Entry[] => {\n//   if (Array.isArray(entries) && entries.every((entry: Entry) => Object.values(EntryType).includes(entry.type) ) ) return true;\n//   else return false;\n// };\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"SET_PATIENT_LIST\":\n      return {\n        ...state,\n        patients: {\n          ...action.payload.reduce(\n            (memo, patient) => ({ ...memo, [patient.id]: patient }),\n            {}\n          ),\n          ...state.patients\n        }\n      };\n    case \"ADD_PATIENT\":\n      return {\n        ...state,\n        patients: {\n          ...state.patients,\n          [action.payload.id]: action.payload\n        }\n      };\n    case \"SET_PATIENT_DETAILS\":\n      return {\n        ...state,\n        patientDetails: {\n          ...action.payload\n        }\n      };\n      case \"SET_DIAGNOSIS_DATA\":\n      return {\n        ...state,\n        diagnosisData: [\n          ...action.payload\n        ]\n      };\n      case \"ADD_ENTRY\":\n        if(!state.patientDetails){ throw new Error('Patient details not populated');}\n        const oldEntries = state.patientDetails.entries? state.patientDetails.entries: [];\n        \n      return {\n        ...state,\n        patientDetails: {\n          ...state.patientDetails,\n          entries: oldEntries.concat(action.payload)\n        }\n    \n      };\n      // case \"ADD_ENTRY\":\n      //   if (!state.patients[action.targetId]) throw new Error('Patient not found');\n      //   const patientToUpdate = state.patients[action.targetId];\n      //   if (!action.payload) throw new Error('missing payload');\n      //   if (!patientToUpdate.entries) {\n      //     patientToUpdate.entries = [action.payload];\n      //   } else if (!checkEntries(patientToUpdate.entries)) {\n      //      console.log(patientToUpdate);\n      //      throw new Error('malformatted entry');\n      //   } else {\n      //     const entries = patientToUpdate.entries as Entry[];\n      //     patientToUpdate.entries= [\n      //       ...entries,\n      //       action.payload\n      //     ];\n      //   }\n      // return {\n      //   ...state,\n      //   [action.targetId]: patientToUpdate\n      //   // patients: {\n      //   //   ...state.patients,\n      //   //   [action.targetId]: patientToUpdate\n      //   // }\n      // };\n    default:\n      return state;\n  }\n};\n"],"sourceRoot":""}